language: android
jdk: oraclejdk8

android:
  components:
  - platform-tools
  - tools
  - build-tools-28.0.3
  - android-24
  - android-28
  - sys-img-armeabi-v7a-android-24

env:
  global:
    - JAVA_HOME=/usr/lib/jvm/java-8-oracle
    - NODE_VERSION="12.13"
    - PATH=${JAVA_HOME}/bin:$PATH

before_install:
  - yes | sdkmanager "platforms;android-29"

before_script:
  - nvm install $NODE_VERSION
  - npm install -g appium@1.16.0
  - npm install -g appium-doctor
  - echo no | android create avd --force -n test -t android-24 --abi armeabi-v7a
script:
  - scripts/travis_appium_test.sh
